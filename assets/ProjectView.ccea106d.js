import{_ as k,p as C,q as P,k as v,r as w,s as j,h as y,i as I}from"./index.8fd97ff5.js";import{p as N,r as M,o as i,c as n,b as e,h as x,t as l,g as p,d as b,w as h,F as _,k as u,f,v as g,e as d}from"./vendor.4dd4ed1d.js";const F={name:"ProjectView",components:{},props:{projectId:{type:String,default:""}},data(){return{favoriteActive:!1,organizerActive:!1,detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[],ProjectTypeId:[],ProjectState:"",Organizer:[],Applicants:[]},detailMessageParams:[{ProjectsId:0,ProfilePicture:"",NickName:"",MessageTitle:"",MessageContent:"",InitDate:""}],messageTitle:"",messageContent:""}},computed:{},mounted(){this.onLogin(),this.getDetailParams(),this.getMessageParams()},methods:{onLogin(){localStorage.getItem("nowsideToken")&&(this.onFavorite(),this.onOrganizer())},onFavorite(){C(this.projectId).then(t=>{console.log("\u662F\u5426\u6536\u85CF\u5C08\u6848",t.data),t.data.status===!0&&(this.favoriteActive=!0)}).catch(t=>{console.log(t)})},onOrganizer(){P(this.projectId).then(t=>{console.log("\u662F\u5426\u70BA\u767C\u8D77\u4EBA",t.data),t.data.status===!0&&(this.organizerActive=!0)}).catch(t=>{console.log(t)})},getDetailParams(){v(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u8A73\u7D30",t.data.userdata),this.detailParams=t.data.userdata}).catch(t=>{console.log(t)})},getMessageParams(){w(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u7559\u8A00",t.data.data),t.data.data.length===0?this.detailMessageParams=[]:this.detailMessageParams=t.data.data}).catch(t=>{console.log(t)})},postMessageParams(){j(this.projectId,this.messageTitle,this.messageContent).then(t=>{console.log("\u9001\u51FA\u5C08\u6848\u7559\u8A00",t.data)}).catch(t=>{console.log(t)})},addFavorite(t){localStorage.getItem("nowsideToken")&&y(t).then(r=>{console.log("\u6536\u85CF\u5C08\u6848",r.data),this.favoriteActive=!0,this.getListParams()}).catch(r=>{console.log(r)})},cancelFavorite(t){localStorage.getItem("nowsideToken")&&I(t).then(r=>{console.log("\u53D6\u6D88\u6536\u85CF\u5C08\u6848",r.data),this.favoriteActive=!1,this.getListParams()}).catch(r=>{console.log(r)})},timeFormat(t){return N(t).format("YYYY.MM.DD")}}},S={class:"py-[180px] w-full h-full"},D={class:"flex relative flex-col py-20 px-24 mb-12 nowside-container-lg nowside-shadow"},T={class:"flex flex-col justify-center items-center mb-14 w-full"},A={class:"text-xl font-medium text-C_blue-700 dark:text-C_blue-300"},V={class:"absolute top-20 right-12 w-[256px]"},z={class:"mb-4"},G={class:"flex justify-between w-full"},U=e("span",{class:"mr-1 material-icons"},"favorite_border",-1),L=d(" \u6536\u85CF "),O=[U,L],Y=e("span",{class:"mr-1 material-icons"},"favorite",-1),B=d(" \u6536\u85CF "),E=[Y,B],q=e("span",{class:"mr-1 material-icons"},"north_east",-1),H=d(" \u7DE8\u8F2F "),J={class:"flex justify-between items-center mb-4"},K={class:"max-w-[144px] font-medium text-C_blue-500 dark:text-C_blue-200 truncate border-b-2 border-C_blue-300 dark:border-C_blue-200"},Q={class:"flex items-center"},R=e("span",{class:"mr-1 text-xl text-orange-500 material-icons"},"adjust",-1),W={class:"font-medium text-C_blue-700 dark:text-C_blue-200"},X={class:"flex mb-4"},Z=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u767C\u8D77\u65E5 ",-1),$={class:"dark:text-C_blue-200"},ee={class:"flex mb-4"},te=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7D50\u675F\u65E5 ",-1),se={class:"dark:text-C_blue-200"},oe={class:"flex items-center mb-4"},le=e("span",{class:"mr-2 text-3xl text-C_blue-400 material-icons"},"account_circle",-1),ae={class:"text-xl dark:text-C_blue-200"},ie={class:"text-C_blue-800"},ne={class:"mb-10"},re=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5C08\u6848\u5167\u5BB9 ",-1),ce=e("br",null,null,-1),de={class:"dark:text-C_blue-200"},_e={class:"mb-10"},ue=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u689D\u4EF6 ",-1),me=e("br",null,null,-1),xe={class:"dark:text-C_blue-200"},be={class:"mb-10"},he=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u6280\u80FD ",-1),pe=e("br",null,null,-1),fe={class:"flex overflow-y-hidden flex-wrap max-h-[68px]"},ge={class:"px-4"},ke={class:"flex items-center mb-10"},Ce=e("p",{class:"inline-block mr-8 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5A92\u5408\u671F\u9650 ",-1),Pe={class:"dark:text-C_blue-200"},ve={class:"flex items-center mb-10"},we=e("p",{class:"inline-block mr-8 mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u529F\u80FD ",-1),je={class:"flex"},ye=e("button",{class:"mr-6 nowside-button-blue-md"}," \u8907\u88FD\u9023\u7D50 ",-1),Ie=d(" \u5BE9\u6838\u7D44\u54E1 "),Ne=d(" \u53C3\u8207\u5C08\u6848 "),Me=d(" \u5B8C\u6210\u5C08\u6848 "),Fe=e("p",{class:"inline-block mb-9 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u53C3\u52A0\u4EBA\u54E1 ",-1),Se=e("br",null,null,-1),De={class:"flex flex-wrap items-center"},Te={class:"flex flex-col max-w-[100px]"},Ae={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Ve=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u767C\u8D77\u4EBA ",-1),ze={class:"flex flex-col max-w-[100px]"},Ge={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Ue=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u7D44\u54E1 ",-1),Le={class:"flex relative flex-col py-20 px-24 nowside-container-lg nowside-shadow"},Oe={class:"mb-12"},Ye=e("p",{class:"inline-block mb-14 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7559\u8A00 ",-1),Be=e("br",null,null,-1),Ee={class:"flex"},qe={class:"flex flex-col justify-start items-center"},He={class:"text-sm text-C_blue-700 dark:text-C_blue-200"},Je={class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-300"},Ke=e("br",null,null,-1),Qe={class:"mb-4 text-C_blue-700 dark:text-C_blue-200"},Re=e("br",null,null,-1),We={class:"mb-4 text-xs text-C_blue-700 dark:text-C_blue-200"},Xe={class:"mb-16"},Ze={class:"flex flex-col mb-12"},$e=e("label",{for:"title",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u6A19\u984C",-1),et={class:"flex flex-col"},tt=e("label",{for:"content",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5167\u5BB9",-1),st={class:"flex justify-center"};function ot(t,a,r,lt,o,c){const m=M("router-link");return i(),n("article",S,[e("section",D,[e("div",T,[e("div",{class:"mb-12 w-[304px] h-[304px] bg-C_gray-100 dark:bg-[#333333] rounded-full shadow-xl nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${o.detailParams.GroupPhoto}')`})},null,4),e("span",A,l(o.detailParams.ProjectName),1),e("ul",V,[e("li",z,[e("div",G,[o.favoriteActive===!1?(i(),n("button",{key:0,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-400 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:a[0]||(a[0]=s=>c.addFavorite(o.detailParams.Id))},O)):p("",!0),o.favoriteActive===!0?(i(),n("button",{key:1,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:a[1]||(a[1]=s=>c.cancelFavorite(o.detailParams.Id))},E)):p("",!0),b(m,{class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectEdit",params:{projectId:o.detailParams.Id}}},{default:h(()=>[q,H]),_:1},8,["to"])])]),e("li",J,[(i(!0),n(_,null,u(o.detailParams.ProjectTypeId,s=>(i(),n("div",{key:s.Id,class:"flex items-center"},[e("p",K,l(s.ProjectType),1)]))),128)),e("div",Q,[R,e("p",W,l(o.detailParams.ProjectState),1)])]),e("li",X,[Z,e("p",$,l(c.timeFormat(o.detailParams.InitDate)),1)]),e("li",ee,[te,e("p",se,l(c.timeFormat(o.detailParams.FinishedDeadline)),1)]),e("li",oe,[le,e("span",ae,l(o.detailParams.GroupNum),1)])])]),e("div",null,[e("ul",ie,[e("li",ne,[re,ce,e("p",de,l(o.detailParams.ProjectContext),1)]),e("li",_e,[ue,me,e("p",xe,l(o.detailParams.PartnerCondition),1)]),e("li",be,[he,pe,e("div",fe,[(i(!0),n(_,null,u(o.detailParams.PartnerSkills,s=>(i(),n("div",{key:s.Id,class:"inline-block mr-2 mb-4 bg-C_blue-200 rounded"},[e("p",ge,l(s.skill),1)]))),128))])]),e("li",ke,[Ce,e("p",Pe,l(c.timeFormat(o.detailParams.GroupDeadline)),1)]),e("li",ve,[we,e("div",je,[ye,b(m,{class:"mr-6 nowside-button-blue-md",to:{name:"ProjectMatch",params:{projectId:r.projectId}}},{default:h(()=>[Ie]),_:1},8,["to"]),b(m,{class:"mr-6 nowside-button-blue-md",to:{name:"ProjectApply",params:{projectId:r.projectId}}},{default:h(()=>[Ne]),_:1},8,["to"]),b(m,{class:"mr-6 nowside-button-blue-md",to:{name:"CreateSuccess",params:{projectId:r.projectId}}},{default:h(()=>[Me]),_:1},8,["to"])])]),e("li",null,[Fe,Se,e("ul",De,[(i(!0),n(_,null,u(o.detailParams.Organizer,s=>(i(),n("li",{key:s.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${s.ProfilePicture}')`})},null,4),e("div",Te,[e("p",Ae,l(s.NickName),1),Ve])]))),128)),(i(!0),n(_,null,u(o.detailParams.Applicants,s=>(i(),n("li",{key:s.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${s.ProfilePicture}')`})},null,4),e("div",ze,[e("p",Ge,l(s.NickName),1),Ue])]))),128))])])])])]),e("section",Le,[e("div",Oe,[Ye,Be,e("ul",null,[(i(!0),n(_,null,u(o.detailMessageParams,s=>(i(),n("li",{key:s.InitDate,class:"mb-16"},[e("div",Ee,[e("div",qe,[e("div",{class:"mx-6 mb-2 w-[72px] h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${s.ProfilePicture}')`})},null,4),e("p",He,l(s.NickName),1)]),e("div",null,[e("p",Je,l(s.MessageTitle),1),Ke,e("p",Qe,l(s.MessageContent),1),Re,e("p",We,l(c.timeFormat(s.InitDate)),1)])])]))),128))])]),e("div",Xe,[e("ul",null,[e("li",Ze,[$e,f(e("input",{id:"title","onUpdate:modelValue":a[2]||(a[2]=s=>o.messageTitle=s),name:"title",type:"text",class:"nowside-input"},null,512),[[g,o.messageTitle]])]),e("li",et,[tt,f(e("textarea",{id:"content","onUpdate:modelValue":a[3]||(a[3]=s=>o.messageContent=s),class:"nowside-textarea",name:"content",rows:"8",maxlength:"1000"},null,512),[[g,o.messageContent]])])])]),e("div",st,[e("button",{class:"nowside-button-blue-md",onClick:a[4]||(a[4]=(...s)=>c.postMessageParams&&c.postMessageParams(...s))}," \u9001\u51FA ")])])])}var nt=k(F,[["render",ot]]);export{nt as default};
