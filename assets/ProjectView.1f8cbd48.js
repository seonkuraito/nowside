import{_ as P,p as k,q as C,k as v,r as j,s as w,t as y,u as I,v as S,w as D,h as N,i as M}from"./index.4db94844.js";import{q as F,r as A,o as i,c as r,e as s,b as e,i as x,t as c,d as T,w as h,F as m,l as _,n as z,y as p,g,v as f,f as u}from"./vendor.7a80300d.js";const U={name:"ProjectView",components:{},props:{projectId:{type:String,default:""}},data(){return{favoriteActive:!1,organizerActive:!1,detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[],ProjectTypeId:[],ProjectState:"",Organizer:[],Applicants:[]},detailMessageParams:[{ProjectsId:0,ProfilePicture:"",NickName:"",MessageTitle:"",MessageContent:"",InitDate:""}],messageTitle:"",messageContent:""}},computed:{},mounted(){this.onLogin(),this.getDetailParams(),this.getMessageParams()},methods:{onLogin(){localStorage.getItem("nowsideToken")&&(this.onFavorite(),this.onOrganizer())},onFavorite(){k(this.projectId).then(t=>{console.log("\u662F\u5426\u6536\u85CF\u5C08\u6848",t.data),t.data.status===!0&&(this.favoriteActive=!0)}).catch(t=>{console.log(t)})},onOrganizer(){C(this.projectId).then(t=>{console.log("\u662F\u5426\u70BA\u767C\u8D77\u4EBA",t.data),t.data.status===!0&&(this.organizerActive=!0)}).catch(t=>{console.log(t)})},getDetailParams(){v(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u8A73\u7D30",t.data.userdata),this.detailParams=t.data.userdata}).catch(t=>{console.log(t)})},getMessageParams(){j(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u7559\u8A00",t.data.data),t.data.data.length===0?this.detailMessageParams=[]:this.detailMessageParams=t.data.data}).catch(t=>{console.log(t)})},postGiveUp(){w(this.projectId).then(t=>{console.log("\u5EE2\u68C4\u5C08\u6848",t.data),this.getDetailParams()}).catch(t=>{console.log(t)})},postDelete(){y(this.projectId).then(t=>{console.log("\u522A\u9664\u5C08\u6848",t.data),this.getDetailParams()}).catch(t=>{console.log(t)})},postClose(){I(this.projectId).then(t=>{console.log("\u95DC\u9589\u5C08\u6848",t.data),this.getDetailParams()}).catch(t=>{console.log(t)})},postRestart(){S(this.projectId).then(t=>{console.log("\u91CD\u555F\u5C08\u6848",t.data),this.getDetailParams()}).catch(t=>{console.log(t)})},postMessageParams(){D(this.projectId,this.messageTitle,this.messageContent).then(t=>{console.log("\u9001\u51FA\u5C08\u6848\u7559\u8A00",t.data)}).catch(t=>{console.log(t)})},addFavorite(t){localStorage.getItem("nowsideToken")&&N(t).then(d=>{console.log("\u6536\u85CF\u5C08\u6848",d.data),this.favoriteActive=!0,this.getListParams()}).catch(d=>{console.log(d)})},cancelFavorite(t){localStorage.getItem("nowsideToken")&&M(t).then(d=>{console.log("\u53D6\u6D88\u6536\u85CF\u5C08\u6848",d.data),this.favoriteActive=!1,this.getListParams()}).catch(d=>{console.log(d)})},timeFormat(t){return F(t).format("YYYY.MM.DD")}}},G={class:"py-[180px] w-full h-full"},V={class:"flex relative flex-col py-20 px-24 mb-12 nowside-container-lg nowside-shadow"},L={class:"flex flex-col justify-center items-center mb-14 w-full"},B={class:"text-xl font-medium text-C_blue-700 dark:text-C_blue-300"},O={class:"absolute top-20 right-12 w-[256px]"},Y={class:"mb-4"},R={class:"flex justify-between w-full"},q=e("span",{class:"mr-1 material-icons"},"favorite_border",-1),E=u(" \u6536\u85CF "),H=[q,E],J=e("span",{class:"mr-1 material-icons"},"favorite",-1),K=u(" \u6536\u85CF "),Q=[J,K],W=e("span",{class:"mr-1 material-icons"},"north_east",-1),X=u(" \u7DE8\u8F2F "),Z={class:"flex justify-between items-center mb-4"},$={class:"max-w-[144px] font-medium text-C_blue-500 dark:text-C_blue-200 truncate border-b-2 border-C_blue-300 dark:border-C_blue-200"},ee={class:"flex items-center"},te={class:"font-medium text-C_blue-700 dark:text-C_blue-200"},se={class:"flex mb-4"},oe=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u767C\u8D77\u65E5 ",-1),le={class:"dark:text-C_blue-200"},ae={class:"flex mb-4"},ie=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7D50\u675F\u65E5 ",-1),re={class:"dark:text-C_blue-200"},ne={class:"flex items-center mb-4"},ce=e("span",{class:"mr-2 text-3xl text-C_blue-400 material-icons"},"account_circle",-1),de={class:"text-xl dark:text-C_blue-200"},ue={class:"text-C_blue-800"},me={class:"mb-10"},_e=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5C08\u6848\u5167\u5BB9 ",-1),be=e("br",null,null,-1),xe={class:"dark:text-C_blue-200 whitespace-pre-wrap"},he={class:"mb-10"},pe=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u689D\u4EF6 ",-1),ge=e("br",null,null,-1),fe={class:"dark:text-C_blue-200 whitespace-pre-wrap"},Pe={class:"mb-10"},ke=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u6280\u80FD ",-1),Ce=e("br",null,null,-1),ve={class:"flex overflow-y-hidden flex-wrap max-h-[68px]"},je={class:"px-4"},we={class:"flex items-center mb-10"},ye=e("p",{class:"inline-block mr-8 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5A92\u5408\u671F\u9650 ",-1),Ie={class:"dark:text-C_blue-200"},Se={class:"flex items-center mb-10"},De=e("p",{class:"inline-block mr-8 mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u529F\u80FD ",-1),Ne={class:"flex"},Me=e("button",{class:"mr-6 nowside-button-blue-md"}," \u8907\u88FD\u9023\u7D50 ",-1),Fe=u(" \u5BE9\u6838\u7D44\u54E1 "),Ae=u(" \u53C3\u8207\u5C08\u6848 "),Te=u(" \u5B8C\u6210\u5C08\u6848 "),ze=e("p",{class:"inline-block mb-9 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u53C3\u52A0\u4EBA\u54E1 ",-1),Ue=e("br",null,null,-1),Ge={class:"flex flex-wrap items-center"},Ve={class:"flex flex-col max-w-[100px]"},Le={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Be=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u767C\u8D77\u4EBA ",-1),Oe={class:"flex flex-col max-w-[100px]"},Ye={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Re=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u7D44\u54E1 ",-1),qe={class:"flex relative flex-col py-20 px-24 nowside-container-lg nowside-shadow"},Ee={class:"mb-12"},He=e("p",{class:"inline-block mb-14 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7559\u8A00 ",-1),Je=e("br",null,null,-1),Ke={class:"flex"},Qe={class:"flex flex-col justify-start items-center"},We={class:"text-sm text-C_blue-700 dark:text-C_blue-200"},Xe={class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-300"},Ze=e("br",null,null,-1),$e={class:"mb-4 text-C_blue-700 dark:text-C_blue-200"},et=e("br",null,null,-1),tt={class:"mb-4 text-xs text-C_blue-700 dark:text-C_blue-200"},st={class:"mb-16"},ot={class:"flex flex-col mb-12"},lt=e("label",{for:"title",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u6A19\u984C",-1),at={class:"flex flex-col"},it=e("label",{for:"content",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5167\u5BB9",-1),rt={class:"flex justify-center"};function nt(t,a,d,ct,o,n){const b=A("router-link");return i(),r("article",G,[s(" \u5167\u5BB9 "),e("section",V,[s(" \u5716\u7247 + \u6A19\u984C + \u72C0\u614B\u9078\u55AE "),e("div",L,[s(" \u5716\u7247 "),e("div",{class:"mb-12 w-[304px] h-[304px] bg-C_gray-100 dark:bg-[#333333] rounded-full shadow-xl nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${o.detailParams.GroupPhoto}')`})},null,4),s(" \u6A19\u984C "),e("span",B,c(o.detailParams.ProjectName),1),s(" \u72C0\u614B\u9078\u55AE "),e("ul",O,[s(" \u6309\u9215 "),e("li",Y,[e("div",R,[o.favoriteActive===!1?(i(),r("button",{key:0,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-400 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:a[0]||(a[0]=l=>n.addFavorite(o.detailParams.Id))},H)):s("v-if",!0),o.favoriteActive===!0?(i(),r("button",{key:1,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:a[1]||(a[1]=l=>n.cancelFavorite(o.detailParams.Id))},Q)):s("v-if",!0),T(b,{class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectEdit",params:{projectId:o.detailParams.Id}}},{default:h(()=>[W,X]),_:1},8,["to"])])]),s(" \u7A2E\u985E + \u72C0\u614B "),e("li",Z,[(i(!0),r(m,null,_(o.detailParams.ProjectTypeId,l=>(i(),r("div",{key:l.Id,class:"flex items-center"},[e("p",$,c(l.ProjectType),1)]))),128)),e("div",ee,[e("span",{class:z(["mr-1 text-xl material-icons",{"text-orange-500":o.detailParams.ProjectState==="\u5A92\u5408\u4E2D","text-C_green-500":o.detailParams.ProjectState==="\u9032\u884C\u4E2D","text-C_gray-900":o.detailParams.ProjectState==="\u5DF2\u95DC\u9589"}])},"adjust",2),e("p",te,c(o.detailParams.ProjectState),1)])]),s(" \u767C\u8D77\u65E5 "),e("li",se,[oe,e("p",le,c(n.timeFormat(o.detailParams.InitDate)),1)]),s(" \u7D50\u675F\u65E5 "),e("li",ae,[ie,e("p",re,c(n.timeFormat(o.detailParams.FinishedDeadline)),1)]),s(" \u5718\u968A\u4EBA\u6578 "),e("li",ne,[ce,e("span",de,c(o.detailParams.GroupNum),1)])])]),s(" \u5167\u5BB9\u5340\u584A "),e("div",null,[e("ul",ue,[s(" \u5C08\u6848\u5167\u5BB9 "),e("li",me,[_e,be,e("p",xe,c(o.detailParams.ProjectContext),1)]),s(" \u5925\u4F34\u689D\u4EF6 "),e("li",he,[pe,ge,e("p",fe,c(o.detailParams.PartnerCondition),1)]),s(" \u5925\u4F34\u6280\u80FD "),e("li",Pe,[ke,Ce,e("div",ve,[(i(!0),r(m,null,_(o.detailParams.PartnerSkills,l=>(i(),r("div",{key:l.Id,class:"inline-block mr-2 mb-4 bg-C_blue-200 rounded"},[e("p",je,c(l.skill),1)]))),128))])]),s(" \u5A92\u5408\u671F\u9650 "),e("li",we,[ye,e("p",Ie,c(n.timeFormat(o.detailParams.GroupDeadline)),1)]),s(" \u529F\u80FD "),e("li",Se,[De,s(" \u6309\u9215 "),e("div",Ne,[s(" \u8907\u88FD\u9023\u7D50 "),Me,s(" \u5BE9\u6838\u7D44\u54E1 "),o.organizerActive===!0?(i(),p(b,{key:0,class:"mr-6 nowside-button-blue-md",to:{name:"ProjectMatch",params:{projectId:d.projectId}}},{default:h(()=>[Fe]),_:1},8,["to"])):s("v-if",!0),s(" \u53C3\u8207\u5C08\u6848 "),o.organizerActive===!1?(i(),p(b,{key:1,class:"mr-6 nowside-button-blue-md",to:{name:"ProjectApply",params:{projectId:d.projectId}}},{default:h(()=>[Ae]),_:1},8,["to"])):s("v-if",!0),s(" \u5B8C\u6210\u5C08\u6848 "),o.organizerActive===!0&&o.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(i(),p(b,{key:2,class:"mr-6 nowside-button-blue-md",to:{name:"CreateSuccess",params:{projectId:d.projectId}}},{default:h(()=>[Te]),_:1},8,["to"])):s("v-if",!0),s(" \u95DC\u9589\u5C08\u6848 "),o.organizerActive===!0&&o.detailParams.ProjectState==="\u5A92\u5408\u4E2D"?(i(),r("button",{key:3,class:"mr-6 nowside-button-blue-md",onClick:a[2]||(a[2]=(...l)=>n.postClose&&n.postClose(...l))}," \u95DC\u9589\u5C08\u6848 ")):s("v-if",!0),s(" \u91CD\u555F\u5C08\u6848 "),o.organizerActive===!0&&o.detailParams.ProjectState==="\u5DF2\u95DC\u9589"?(i(),r("button",{key:4,class:"mr-6 nowside-button-blue-md",onClick:a[3]||(a[3]=(...l)=>n.postRestart&&n.postRestart(...l))}," \u91CD\u555F\u5C08\u6848 ")):s("v-if",!0),s(" \u5EE2\u68C4\u5C08\u6848 "),o.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(i(),r("button",{key:5,class:"mr-6 nowside-button-blue-md",onClick:a[4]||(a[4]=(...l)=>n.postGiveUp&&n.postGiveUp(...l))}," \u5EE2\u68C4\u5C08\u6848 ")):s("v-if",!0),s(" \u522A\u9664\u5C08\u6848 "),o.detailParams.ProjectState==="\u5DF2\u5EE2\u68C4"?(i(),r("button",{key:6,class:"mr-6 nowside-button-blue-md",onClick:a[5]||(a[5]=(...l)=>n.postDelete&&n.postDelete(...l))}," \u522A\u9664\u5C08\u6848 ")):s("v-if",!0)])]),s(" \u53C3\u52A0\u4EBA\u54E1 "),e("li",null,[ze,Ue,e("ul",Ge,[s(" \u767C\u8D77\u4EBA "),(i(!0),r(m,null,_(o.detailParams.Organizer,l=>(i(),r("li",{key:l.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${l.ProfilePicture}')`})},null,4),e("div",Ve,[e("p",Le,c(l.NickName),1),Be])]))),128)),s(" \u7533\u8ACB\u4EBA "),(i(!0),r(m,null,_(o.detailParams.Applicants,l=>(i(),r("li",{key:l.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${l.ProfilePicture}')`})},null,4),e("div",Oe,[e("p",Ye,c(l.NickName),1),Re])]))),128))])])])])]),s(" \u7559\u8A00 "),e("section",qe,[s(" \u7559\u8A00\u5217\u8868 "),e("div",Ee,[s(" \u6A19\u984C "),He,Je,s(" \u5217\u8868 "),e("ul",null,[(i(!0),r(m,null,_(o.detailMessageParams,l=>(i(),r("li",{key:l.InitDate,class:"mb-16"},[e("div",Ke,[e("div",Qe,[e("div",{class:"mx-6 mb-2 w-[72px] h-[72px] rounded-full nowside-backgroundImage",style:x({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${l.ProfilePicture}')`})},null,4),e("p",We,c(l.NickName),1)]),e("div",null,[e("p",Xe,c(l.MessageTitle),1),Ze,e("p",$e,c(l.MessageContent),1),et,e("p",tt,c(n.timeFormat(l.InitDate)),1)])])]))),128))])]),s(" \u56DE\u8986 "),e("div",st,[e("ul",null,[e("li",ot,[lt,g(e("input",{id:"title","onUpdate:modelValue":a[6]||(a[6]=l=>o.messageTitle=l),name:"title",type:"text",class:"nowside-input"},null,512),[[f,o.messageTitle]])]),e("li",at,[it,g(e("textarea",{id:"content","onUpdate:modelValue":a[7]||(a[7]=l=>o.messageContent=l),class:"nowside-textarea",name:"content",rows:"8",maxlength:"1000"},null,512),[[f,o.messageContent]])])])]),s(" \u9001\u51FA\u6309\u9215 "),e("div",rt,[e("button",{class:"nowside-button-blue-md",onClick:a[8]||(a[8]=(...l)=>n.postMessageParams&&n.postMessageParams(...l))}," \u9001\u51FA ")])])])}var mt=P(U,[["render",nt]]);export{mt as default};
