import{_ as P,p as k,q as C,k as v,r as j,s as w,t as y,u as S,v as I,w as D,h as M,i as A}from"./index.7bdefe26.js";import{q as N,r as F,o as i,c as a,b as e,j as h,t as r,i as _,z as b,w as p,F as u,f as m,n as z,g,v as f,e as d}from"./vendor.faa2a958.js";const T={name:"ProjectView",components:{},props:{projectId:{type:String,default:""}},data(){return{favoriteActive:!1,organizerActive:!1,detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[],ProjectTypeId:[],ProjectState:"",Organizer:[],Applicants:[]},detailMessageParams:[{ProjectsId:0,ProfilePicture:"",NickName:"",MessageTitle:"",MessageContent:"",InitDate:""}],messageTitle:"",messageContent:""}},computed:{},mounted(){this.onLogin(),this.getDetailParams(),this.getMessageParams()},methods:{onLogin(){localStorage.getItem("nowsideToken")&&(this.onFavorite(),this.onOrganizer())},onFavorite(){k(this.projectId).then(t=>{console.log("\u662F\u5426\u6536\u85CF\u5C08\u6848",t.data),t.data.status===!0&&(this.favoriteActive=!0)}).catch(t=>{console.log(t)})},onOrganizer(){C(this.projectId).then(t=>{console.log("\u662F\u5426\u70BA\u767C\u8D77\u4EBA",t.data),t.data.status===!0&&(this.organizerActive=!0)}).catch(t=>{console.log(t)})},getDetailParams(){v(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u8A73\u7D30",t.data.userdata),this.detailParams=t.data.userdata}).catch(t=>{console.log(t)})},getMessageParams(){j(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u7559\u8A00",t.data.data),t.data.data.length===0?this.detailMessageParams=[]:this.detailMessageParams=t.data.data}).catch(t=>{console.log(t)})},postGiveUp(){w(this.projectId).then(t=>{console.log("\u5EE2\u68C4\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u5EE2\u68C4\u3002"},3500)}).catch(t=>{console.log(t)})},postDelete(){y(this.projectId).then(t=>{console.log("\u522A\u9664\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u522A\u9664\u3002"},3500)}).catch(t=>{console.log(t)})},postClose(){S(this.projectId).then(t=>{console.log("\u95DC\u9589\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u95DC\u9589\u3002"},3500)}).catch(t=>{console.log(t)})},postRestart(){I(this.projectId).then(t=>{console.log("\u91CD\u555F\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u91CD\u555F\u3002"},3500)}).catch(t=>{console.log(t)})},postMessageParams(){D(this.projectId,this.messageTitle,this.messageContent).then(t=>{console.log("\u9001\u51FA\u5C08\u6848\u7559\u8A00",t.data),this.messageTitle="",this.messageContent="",this.getMessageParams(),this.$notify({group:"foo",title:"Success",text:"\u7559\u8A00\u6210\u529F\uFF0C\u767C\u8D77\u4EBA\u5DF2\u6536\u5230\u60A8\u7684\u8A0A\u606F\u3002"},3500)}).catch(t=>{console.log(t)})},addFavorite(t){localStorage.getItem("nowsideToken")&&M(t).then(c=>{console.log("\u6536\u85CF\u5C08\u6848",c.data),this.favoriteActive=!0,this.getListParams(),this.$notify({group:"foo",title:"Success",text:"\u6536\u85CF\u6210\u529F\uFF0C\u5C08\u6848\u5DF2\u6210\u529F\u5132\u5B58\u3002"},3500)}).catch(c=>{console.log(c)})},cancelFavorite(t){localStorage.getItem("nowsideToken")&&A(t).then(c=>{console.log("\u53D6\u6D88\u6536\u85CF\u5C08\u6848",c.data),this.favoriteActive=!1,this.getListParams(),this.$notify({group:"foo",title:"Success",text:"\u53D6\u6D88\u6536\u85CF\uFF0C\u5C08\u6848\u5DF2\u6210\u529F\u79FB\u9664\u3002"},3500)}).catch(c=>{console.log(c)})},timeFormat(t){return N(t).format("YYYY.MM.DD")}}},U={class:"py-[180px] w-full h-full"},G={class:"flex relative flex-col py-20 px-24 mb-12 nowside-container-lg nowside-shadow"},V={class:"flex flex-col justify-center items-center mb-14 w-full"},L={class:"text-xl font-medium text-C_blue-700 dark:text-C_blue-300"},B={class:"absolute top-20 right-12 w-[256px]"},O={class:"mb-4"},Y={class:"flex justify-between w-full"},R=e("span",{class:"mr-1 material-icons"},"favorite",-1),q=d(" \u6536\u85CF "),E=[R,q],H=e("span",{class:"mr-1 material-icons"},"favorite_border",-1),J=d(" \u6536\u85CF "),K=[H,J],Q=e("span",{class:"mr-1 text-xl material-icons"},"edit_note",-1),W=d(" \u7DE8\u8F2F "),X=e("span",{class:"mr-1 text-xl material-icons"},"done",-1),Z=d(" \u5B8C\u6210 "),$=e("span",{class:"mr-1 text-xl material-icons"},"launch",-1),ee=d(" \u53C3\u8207 "),te={class:"flex justify-between items-center mb-4"},se={class:"max-w-[144px] font-medium text-C_blue-500 dark:text-C_blue-200 truncate border-b-2 border-C_blue-300 dark:border-C_blue-200"},oe={class:"flex items-center"},le={class:"font-medium text-C_blue-700 dark:text-C_blue-200"},ie={class:"flex mb-4"},ae=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u767C\u8D77\u65E5 ",-1),ne={class:"dark:text-C_blue-200"},re={class:"flex mb-4"},ce=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7D50\u675F\u65E5 ",-1),de={class:"dark:text-C_blue-200"},_e={class:"flex items-center mb-4"},ue=e("span",{class:"mr-2 text-3xl text-C_blue-400 material-icons"},"account_circle",-1),me={class:"text-xl dark:text-C_blue-200"},xe={class:"text-C_blue-800"},he={class:"mb-10"},be=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5C08\u6848\u5167\u5BB9 ",-1),pe=e("br",null,null,-1),ge={class:"dark:text-C_blue-200 whitespace-pre-wrap"},fe={class:"mb-10"},Pe=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u689D\u4EF6 ",-1),ke=e("br",null,null,-1),Ce={class:"dark:text-C_blue-200 whitespace-pre-wrap"},ve={class:"mb-10"},je=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u6280\u80FD ",-1),we=e("br",null,null,-1),ye={class:"flex overflow-y-hidden flex-wrap max-h-[68px]"},Se={class:"px-4"},Ie={class:"flex items-center mb-10"},De=e("p",{class:"inline-block mr-8 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5A92\u5408\u671F\u9650 ",-1),Me={class:"dark:text-C_blue-200"},Ae={class:"flex items-center mb-10"},Ne=e("p",{class:"inline-block mr-8 mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u529F\u80FD ",-1),Fe={class:"flex"},ze=e("button",{class:"mr-6 nowside-button-blue-md"},[e("span",{class:"mr-1 material-icons"},"content_copy"),d(" \u8907\u88FD\u9023\u7D50 ")],-1),Te=e("span",{class:"mr-1 material-icons"},"person_add",-1),Ue=d(" \u5BE9\u6838\u7D44\u54E1 "),Ge=e("span",{class:"mr-1 material-icons"},"disabled_visible",-1),Ve=d(" \u95DC\u9589\u5C08\u6848 "),Le=[Ge,Ve],Be=e("span",{class:"mr-1 material-icons"},"access_time",-1),Oe=d(" \u91CD\u555F\u5C08\u6848 "),Ye=[Be,Oe],Re=e("span",{class:"mr-1 material-icons"},"remove_circle_outline",-1),qe=d(" \u5EE2\u68C4\u5C08\u6848 "),Ee=[Re,qe],He=e("span",{class:"mr-1 material-icons"},"delete",-1),Je=d(" \u522A\u9664\u5C08\u6848 "),Ke=[He,Je],Qe=e("p",{class:"inline-block mb-9 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u53C3\u52A0\u4EBA\u54E1 ",-1),We=e("br",null,null,-1),Xe={class:"flex flex-wrap items-center"},Ze={class:"flex flex-col max-w-[100px]"},$e={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},et=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u767C\u8D77\u4EBA ",-1),tt={class:"flex flex-col max-w-[100px]"},st={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},ot=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u7D44\u54E1 ",-1),lt={class:"flex relative flex-col py-20 px-24 nowside-container-lg nowside-shadow"},it={class:"mb-12"},at=e("p",{class:"inline-block mb-14 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7559\u8A00 ",-1),nt=e("br",null,null,-1),rt={class:"flex"},ct={class:"flex flex-col justify-start items-center"},dt={class:"text-sm text-C_blue-700 dark:text-C_blue-200"},_t={class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-300"},ut=e("br",null,null,-1),mt={class:"mb-4 text-C_blue-700 dark:text-C_blue-200"},xt=e("br",null,null,-1),ht={class:"mb-4 text-xs text-C_blue-700 dark:text-C_blue-200"},bt={class:"mb-16"},pt={class:"flex flex-col mb-12"},gt=e("label",{for:"title",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u6A19\u984C",-1),ft={class:"flex flex-col"},Pt=e("label",{for:"content",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5167\u5BB9",-1),kt={class:"flex justify-center"};function Ct(t,l,c,vt,s,n){const x=F("router-link");return i(),a("article",U,[e("section",G,[e("div",V,[e("div",{class:"mb-12 w-[304px] h-[304px] bg-C_gray-100 dark:bg-[#333333] rounded-full shadow-xl nowside-backgroundImage",style:h({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${s.detailParams.GroupPhoto}')`})},null,4),e("span",L,r(s.detailParams.ProjectName),1),e("ul",B,[e("li",O,[e("div",Y,[s.favoriteActive===!0?(i(),a("button",{key:0,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:l[0]||(l[0]=o=>n.cancelFavorite(s.detailParams.Id))},E)):_("",!0),s.favoriteActive===!1?(i(),a("button",{key:1,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-400 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:l[1]||(l[1]=o=>n.addFavorite(s.detailParams.Id))},K)):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5A92\u5408\u4E2D"?(i(),b(x,{key:2,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectEdit",params:{projectId:s.detailParams.Id}}},{default:p(()=>[Q,W]),_:1},8,["to"])):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(i(),b(x,{key:3,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"CreateSuccess",params:{projectId:c.projectId}}},{default:p(()=>[X,Z]),_:1},8,["to"])):_("",!0),s.organizerActive===!1?(i(),b(x,{key:4,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectApply",params:{projectId:c.projectId}}},{default:p(()=>[$,ee]),_:1},8,["to"])):_("",!0)])]),e("li",te,[(i(!0),a(u,null,m(s.detailParams.ProjectTypeId,o=>(i(),a("div",{key:o.Id,class:"flex items-center"},[e("p",se,r(o.ProjectType),1)]))),128)),e("div",oe,[e("span",{class:z(["mr-1 text-xl material-icons",{"text-orange-500":s.detailParams.ProjectState==="\u5A92\u5408\u4E2D","text-C_green-500":s.detailParams.ProjectState==="\u9032\u884C\u4E2D","text-C_gray-900":s.detailParams.ProjectState==="\u5DF2\u95DC\u9589"}])},"adjust",2),e("p",le,r(s.detailParams.ProjectState),1)])]),e("li",ie,[ae,e("p",ne,r(n.timeFormat(s.detailParams.InitDate)),1)]),e("li",re,[ce,e("p",de,r(n.timeFormat(s.detailParams.FinishedDeadline)),1)]),e("li",_e,[ue,e("span",me,r(s.detailParams.GroupNum),1)])])]),e("div",null,[e("ul",xe,[e("li",he,[be,pe,e("p",ge,r(s.detailParams.ProjectContext),1)]),e("li",fe,[Pe,ke,e("p",Ce,r(s.detailParams.PartnerCondition),1)]),e("li",ve,[je,we,e("div",ye,[(i(!0),a(u,null,m(s.detailParams.PartnerSkills,o=>(i(),a("div",{key:o.Id,class:"inline-block mr-2 mb-4 bg-C_blue-200 rounded dark:opacity-30"},[e("p",Se,r(o.skill),1)]))),128))])]),e("li",Ie,[De,e("p",Me,r(n.timeFormat(s.detailParams.GroupDeadline)),1)]),e("li",Ae,[Ne,e("div",Fe,[ze,s.organizerActive===!0&&s.detailParams.ProjectState==="\u5A92\u5408\u4E2D"?(i(),b(x,{key:0,class:"mr-6 nowside-button-blue-md",to:{name:"ProjectMatch",params:{projectId:c.projectId}}},{default:p(()=>[Te,Ue]),_:1},8,["to"])):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5A92\u5408\u4E2D"?(i(),a("button",{key:1,class:"mr-6 nowside-button-blue-md",onClick:l[2]||(l[2]=(...o)=>n.postClose&&n.postClose(...o))},Le)):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5DF2\u95DC\u9589"?(i(),a("button",{key:2,class:"mr-6 nowside-button-blue-md",onClick:l[3]||(l[3]=(...o)=>n.postRestart&&n.postRestart(...o))},Ye)):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(i(),a("button",{key:3,class:"mr-6 nowside-button-blue-md",onClick:l[4]||(l[4]=(...o)=>n.postGiveUp&&n.postGiveUp(...o))},Ee)):_("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5DF2\u5EE2\u68C4"?(i(),a("button",{key:4,class:"mr-6 nowside-button-blue-md",onClick:l[5]||(l[5]=(...o)=>n.postDelete&&n.postDelete(...o))},Ke)):_("",!0)])]),e("li",null,[Qe,We,e("ul",Xe,[(i(!0),a(u,null,m(s.detailParams.Organizer,o=>(i(),a("li",{key:o.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:h({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("div",Ze,[e("p",$e,r(o.NickName),1),et])]))),128)),(i(!0),a(u,null,m(s.detailParams.Applicants,o=>(i(),a("li",{key:o.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:h({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("div",tt,[e("p",st,r(o.NickName),1),ot])]))),128))])])])])]),e("section",lt,[e("div",it,[at,nt,e("ul",null,[(i(!0),a(u,null,m(s.detailMessageParams,o=>(i(),a("li",{key:o.InitDate,class:"mb-16"},[e("div",rt,[e("div",ct,[e("div",{class:"mx-6 mb-2 w-[72px] h-[72px] rounded-full nowside-backgroundImage",style:h({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("p",dt,r(o.NickName),1)]),e("div",null,[e("p",_t,r(o.MessageTitle),1),ut,e("p",mt,r(o.MessageContent),1),xt,e("p",ht,r(n.timeFormat(o.InitDate)),1)])])]))),128))])]),e("div",bt,[e("ul",null,[e("li",pt,[gt,g(e("input",{id:"title","onUpdate:modelValue":l[6]||(l[6]=o=>s.messageTitle=o),name:"title",type:"text",class:"nowside-input"},null,512),[[f,s.messageTitle]])]),e("li",ft,[Pt,g(e("textarea",{id:"content","onUpdate:modelValue":l[7]||(l[7]=o=>s.messageContent=o),class:"nowside-textarea",name:"content",rows:"8",maxlength:"1000"},null,512),[[f,s.messageContent]])])])]),e("div",kt,[e("button",{class:"nowside-button-blue-md",onClick:l[8]||(l[8]=(...o)=>n.postMessageParams&&n.postMessageParams(...o))}," \u9001\u51FA ")])])])}var yt=P(T,[["render",Ct]]);export{yt as default};
