import{_ as P,p as k,q as C,k as v,r as j,s as w,t as y,u as I,v as S,w as D,h as M,i as N}from"./index.82fe6c47.js";import{q as F,r as A,o as a,c as i,b as e,j as b,t as n,i as d,d as T,w as h,F as m,f as _,n as z,z as p,g,v as f,e as u}from"./vendor.faa2a958.js";const U={name:"ProjectView",components:{},props:{projectId:{type:String,default:""}},data(){return{favoriteActive:!1,organizerActive:!1,detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[],ProjectTypeId:[],ProjectState:"",Organizer:[],Applicants:[]},detailMessageParams:[{ProjectsId:0,ProfilePicture:"",NickName:"",MessageTitle:"",MessageContent:"",InitDate:""}],messageTitle:"",messageContent:""}},computed:{},mounted(){this.onLogin(),this.getDetailParams(),this.getMessageParams()},methods:{onLogin(){localStorage.getItem("nowsideToken")&&(this.onFavorite(),this.onOrganizer())},onFavorite(){k(this.projectId).then(t=>{console.log("\u662F\u5426\u6536\u85CF\u5C08\u6848",t.data),t.data.status===!0&&(this.favoriteActive=!0)}).catch(t=>{console.log(t)})},onOrganizer(){C(this.projectId).then(t=>{console.log("\u662F\u5426\u70BA\u767C\u8D77\u4EBA",t.data),t.data.status===!0&&(this.organizerActive=!0)}).catch(t=>{console.log(t)})},getDetailParams(){v(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u8A73\u7D30",t.data.userdata),this.detailParams=t.data.userdata}).catch(t=>{console.log(t)})},getMessageParams(){j(this.projectId).then(t=>{console.log("\u53D6\u5F97\u5C08\u6848\u7559\u8A00",t.data.data),t.data.data.length===0?this.detailMessageParams=[]:this.detailMessageParams=t.data.data}).catch(t=>{console.log(t)})},postGiveUp(){w(this.projectId).then(t=>{console.log("\u5EE2\u68C4\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u5EE2\u68C4\u3002"},3500)}).catch(t=>{console.log(t)})},postDelete(){y(this.projectId).then(t=>{console.log("\u522A\u9664\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u522A\u9664\u3002"},3500)}).catch(t=>{console.log(t)})},postClose(){I(this.projectId).then(t=>{console.log("\u95DC\u9589\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u95DC\u9589\u3002"},3500)}).catch(t=>{console.log(t)})},postRestart(){S(this.projectId).then(t=>{console.log("\u91CD\u555F\u5C08\u6848",t.data),this.getDetailParams(),this.$notify({group:"foo",title:"Success",text:"\u5C08\u6848\u5DF2\u91CD\u555F\u3002"},3500)}).catch(t=>{console.log(t)})},postMessageParams(){D(this.projectId,this.messageTitle,this.messageContent).then(t=>{console.log("\u9001\u51FA\u5C08\u6848\u7559\u8A00",t.data),this.messageTitle="",this.messageContent="",this.getMessageParams(),this.$notify({group:"foo",title:"Success",text:"\u7559\u8A00\u6210\u529F\uFF0C\u767C\u8D77\u4EBA\u5DF2\u6536\u5230\u60A8\u7684\u8A0A\u606F\u3002"},3500)}).catch(t=>{console.log(t)})},addFavorite(t){localStorage.getItem("nowsideToken")&&M(t).then(c=>{console.log("\u6536\u85CF\u5C08\u6848",c.data),this.favoriteActive=!0,this.getListParams(),this.$notify({group:"foo",title:"Success",text:"\u6536\u85CF\u6210\u529F\uFF0C\u5C08\u6848\u5DF2\u6210\u529F\u5132\u5B58\u3002"},3500)}).catch(c=>{console.log(c)})},cancelFavorite(t){localStorage.getItem("nowsideToken")&&N(t).then(c=>{console.log("\u53D6\u6D88\u6536\u85CF\u5C08\u6848",c.data),this.favoriteActive=!1,this.getListParams(),this.$notify({group:"foo",title:"Success",text:"\u53D6\u6D88\u6536\u85CF\uFF0C\u5C08\u6848\u5DF2\u6210\u529F\u79FB\u9664\u3002"},3500)}).catch(c=>{console.log(c)})},timeFormat(t){return F(t).format("YYYY.MM.DD")}}},G={class:"py-[180px] w-full h-full"},V={class:"flex relative flex-col py-20 px-24 mb-12 nowside-container-lg nowside-shadow"},L={class:"flex flex-col justify-center items-center mb-14 w-full"},B={class:"text-xl font-medium text-C_blue-700 dark:text-C_blue-300"},O={class:"absolute top-20 right-12 w-[256px]"},Y={class:"mb-4"},R={class:"flex justify-between w-full"},q=e("span",{class:"mr-1 material-icons"},"favorite_border",-1),E=u(" \u6536\u85CF "),H=[q,E],J=e("span",{class:"mr-1 material-icons"},"favorite",-1),K=u(" \u6536\u85CF "),Q=[J,K],W=e("span",{class:"mr-1 material-icons"},"north_east",-1),X=u(" \u7DE8\u8F2F "),Z={class:"flex justify-between items-center mb-4"},$={class:"max-w-[144px] font-medium text-C_blue-500 dark:text-C_blue-200 truncate border-b-2 border-C_blue-300 dark:border-C_blue-200"},ee={class:"flex items-center"},te={class:"font-medium text-C_blue-700 dark:text-C_blue-200"},se={class:"flex mb-4"},oe=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u767C\u8D77\u65E5 ",-1),le={class:"dark:text-C_blue-200"},ae={class:"flex mb-4"},ie=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7D50\u675F\u65E5 ",-1),re={class:"dark:text-C_blue-200"},ne={class:"flex items-center mb-4"},ce=e("span",{class:"mr-2 text-3xl text-C_blue-400 material-icons"},"account_circle",-1),de={class:"text-xl dark:text-C_blue-200"},ue={class:"text-C_blue-800"},me={class:"mb-10"},_e=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5C08\u6848\u5167\u5BB9 ",-1),xe=e("br",null,null,-1),be={class:"dark:text-C_blue-200 whitespace-pre-wrap"},he={class:"mb-10"},pe=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u689D\u4EF6 ",-1),ge=e("br",null,null,-1),fe={class:"dark:text-C_blue-200 whitespace-pre-wrap"},Pe={class:"mb-10"},ke=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u6280\u80FD ",-1),Ce=e("br",null,null,-1),ve={class:"flex overflow-y-hidden flex-wrap max-h-[68px]"},je={class:"px-4"},we={class:"flex items-center mb-10"},ye=e("p",{class:"inline-block mr-8 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5A92\u5408\u671F\u9650 ",-1),Ie={class:"dark:text-C_blue-200"},Se={class:"flex items-center mb-10"},De=e("p",{class:"inline-block mr-8 mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u529F\u80FD ",-1),Me={class:"flex"},Ne=e("button",{class:"mr-6 nowside-button-blue-md"}," \u8907\u88FD\u9023\u7D50 ",-1),Fe=u(" \u5BE9\u6838\u7D44\u54E1 "),Ae=u(" \u53C3\u8207\u5C08\u6848 "),Te=u(" \u5B8C\u6210\u5C08\u6848 "),ze=e("p",{class:"inline-block mb-9 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u53C3\u52A0\u4EBA\u54E1 ",-1),Ue=e("br",null,null,-1),Ge={class:"flex flex-wrap items-center"},Ve={class:"flex flex-col max-w-[100px]"},Le={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Be=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u767C\u8D77\u4EBA ",-1),Oe={class:"flex flex-col max-w-[100px]"},Ye={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Re=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u7D44\u54E1 ",-1),qe={class:"flex relative flex-col py-20 px-24 nowside-container-lg nowside-shadow"},Ee={class:"mb-12"},He=e("p",{class:"inline-block mb-14 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7559\u8A00 ",-1),Je=e("br",null,null,-1),Ke={class:"flex"},Qe={class:"flex flex-col justify-start items-center"},We={class:"text-sm text-C_blue-700 dark:text-C_blue-200"},Xe={class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-300"},Ze=e("br",null,null,-1),$e={class:"mb-4 text-C_blue-700 dark:text-C_blue-200"},et=e("br",null,null,-1),tt={class:"mb-4 text-xs text-C_blue-700 dark:text-C_blue-200"},st={class:"mb-16"},ot={class:"flex flex-col mb-12"},lt=e("label",{for:"title",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u6A19\u984C",-1),at={class:"flex flex-col"},it=e("label",{for:"content",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5167\u5BB9",-1),rt={class:"flex justify-center"};function nt(t,l,c,ct,s,r){const x=A("router-link");return a(),i("article",G,[e("section",V,[e("div",L,[e("div",{class:"mb-12 w-[304px] h-[304px] bg-C_gray-100 dark:bg-[#333333] rounded-full shadow-xl nowside-backgroundImage",style:b({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${s.detailParams.GroupPhoto}')`})},null,4),e("span",B,n(s.detailParams.ProjectName),1),e("ul",O,[e("li",Y,[e("div",R,[s.favoriteActive===!1?(a(),i("button",{key:0,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-400 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:l[0]||(l[0]=o=>r.addFavorite(s.detailParams.Id))},H)):d("",!0),s.favoriteActive===!0?(a(),i("button",{key:1,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:l[1]||(l[1]=o=>r.cancelFavorite(s.detailParams.Id))},Q)):d("",!0),T(x,{class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectEdit",params:{projectId:s.detailParams.Id}}},{default:h(()=>[W,X]),_:1},8,["to"])])]),e("li",Z,[(a(!0),i(m,null,_(s.detailParams.ProjectTypeId,o=>(a(),i("div",{key:o.Id,class:"flex items-center"},[e("p",$,n(o.ProjectType),1)]))),128)),e("div",ee,[e("span",{class:z(["mr-1 text-xl material-icons",{"text-orange-500":s.detailParams.ProjectState==="\u5A92\u5408\u4E2D","text-C_green-500":s.detailParams.ProjectState==="\u9032\u884C\u4E2D","text-C_gray-900":s.detailParams.ProjectState==="\u5DF2\u95DC\u9589"}])},"adjust",2),e("p",te,n(s.detailParams.ProjectState),1)])]),e("li",se,[oe,e("p",le,n(r.timeFormat(s.detailParams.InitDate)),1)]),e("li",ae,[ie,e("p",re,n(r.timeFormat(s.detailParams.FinishedDeadline)),1)]),e("li",ne,[ce,e("span",de,n(s.detailParams.GroupNum),1)])])]),e("div",null,[e("ul",ue,[e("li",me,[_e,xe,e("p",be,n(s.detailParams.ProjectContext),1)]),e("li",he,[pe,ge,e("p",fe,n(s.detailParams.PartnerCondition),1)]),e("li",Pe,[ke,Ce,e("div",ve,[(a(!0),i(m,null,_(s.detailParams.PartnerSkills,o=>(a(),i("div",{key:o.Id,class:"inline-block mr-2 mb-4 bg-C_blue-200 rounded"},[e("p",je,n(o.skill),1)]))),128))])]),e("li",we,[ye,e("p",Ie,n(r.timeFormat(s.detailParams.GroupDeadline)),1)]),e("li",Se,[De,e("div",Me,[Ne,s.organizerActive===!0?(a(),p(x,{key:0,class:"mr-6 nowside-button-blue-md",to:{name:"ProjectMatch",params:{projectId:c.projectId}}},{default:h(()=>[Fe]),_:1},8,["to"])):d("",!0),s.organizerActive===!1?(a(),p(x,{key:1,class:"mr-6 nowside-button-blue-md",to:{name:"ProjectApply",params:{projectId:c.projectId}}},{default:h(()=>[Ae]),_:1},8,["to"])):d("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(a(),p(x,{key:2,class:"mr-6 nowside-button-blue-md",to:{name:"CreateSuccess",params:{projectId:c.projectId}}},{default:h(()=>[Te]),_:1},8,["to"])):d("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5A92\u5408\u4E2D"?(a(),i("button",{key:3,class:"mr-6 nowside-button-blue-md",onClick:l[2]||(l[2]=(...o)=>r.postClose&&r.postClose(...o))}," \u95DC\u9589\u5C08\u6848 ")):d("",!0),s.organizerActive===!0&&s.detailParams.ProjectState==="\u5DF2\u95DC\u9589"?(a(),i("button",{key:4,class:"mr-6 nowside-button-blue-md",onClick:l[3]||(l[3]=(...o)=>r.postRestart&&r.postRestart(...o))}," \u91CD\u555F\u5C08\u6848 ")):d("",!0),s.detailParams.ProjectState==="\u9032\u884C\u4E2D"?(a(),i("button",{key:5,class:"mr-6 nowside-button-blue-md",onClick:l[4]||(l[4]=(...o)=>r.postGiveUp&&r.postGiveUp(...o))}," \u5EE2\u68C4\u5C08\u6848 ")):d("",!0),s.detailParams.ProjectState==="\u5DF2\u5EE2\u68C4"?(a(),i("button",{key:6,class:"mr-6 nowside-button-blue-md",onClick:l[5]||(l[5]=(...o)=>r.postDelete&&r.postDelete(...o))}," \u522A\u9664\u5C08\u6848 ")):d("",!0)])]),e("li",null,[ze,Ue,e("ul",Ge,[(a(!0),i(m,null,_(s.detailParams.Organizer,o=>(a(),i("li",{key:o.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:b({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("div",Ve,[e("p",Le,n(o.NickName),1),Be])]))),128)),(a(!0),i(m,null,_(s.detailParams.Applicants,o=>(a(),i("li",{key:o.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:b({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("div",Oe,[e("p",Ye,n(o.NickName),1),Re])]))),128))])])])])]),e("section",qe,[e("div",Ee,[He,Je,e("ul",null,[(a(!0),i(m,null,_(s.detailMessageParams,o=>(a(),i("li",{key:o.InitDate,class:"mb-16"},[e("div",Ke,[e("div",Qe,[e("div",{class:"mx-6 mb-2 w-[72px] h-[72px] rounded-full nowside-backgroundImage",style:b({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/ProfilePicture/${o.ProfilePicture}')`})},null,4),e("p",We,n(o.NickName),1)]),e("div",null,[e("p",Xe,n(o.MessageTitle),1),Ze,e("p",$e,n(o.MessageContent),1),et,e("p",tt,n(r.timeFormat(o.InitDate)),1)])])]))),128))])]),e("div",st,[e("ul",null,[e("li",ot,[lt,g(e("input",{id:"title","onUpdate:modelValue":l[6]||(l[6]=o=>s.messageTitle=o),name:"title",type:"text",class:"nowside-input"},null,512),[[f,s.messageTitle]])]),e("li",at,[it,g(e("textarea",{id:"content","onUpdate:modelValue":l[7]||(l[7]=o=>s.messageContent=o),class:"nowside-textarea",name:"content",rows:"8",maxlength:"1000"},null,512),[[f,s.messageContent]])])])]),e("div",rt,[e("button",{class:"nowside-button-blue-md",onClick:l[8]||(l[8]=(...o)=>r.postMessageParams&&r.postMessageParams(...o))}," \u9001\u51FA ")])])])}var mt=P(U,[["render",nt]]);export{mt as default};
